<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.47 in css mode. -->
<html>
  <head>
    <title>emacs_notes.org</title>
    <style type="text/css">
    <!--
      body {
        color: #dcdccc;
        background-color: #3f3f3f;
      }
      .bold {
        /* bold */
        font-weight: bold;
      }
      .hl-line {
        /* hl-line */
        background-color: #404040;
      }
      .org-block {
        /* org-block */
        color: #b3b3b3;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #7f9f7f;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #7f9f7f;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-document-title {
        /* org-document-title */
        color: #afeeee;
        font-weight: bold;
      }
      .org-footnote {
        /* org-footnote */
        color: #00ffff;
        text-decoration: underline;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #dfaf8f;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #8fb28f;
      }
      .org-link {
        /* org-link */
        color: #d0bf8f;
        text-decoration: underline;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b3b3b3;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword"><span class="hl-line">#+TITLE:</span></span><span class="hl-line"> </span><span class="org-document-title"><span class="hl-line">Emacs Notes
</span></span>
<span class="org-level-1">* Notes on the manual</span>
<span class="org-level-2">** Quick Movement</span>
   1. <span class="org-verbatim">=M-g c=</span>: read a number N and move point to buffer position N.
   2. <span class="org-verbatim">=M-g g=</span>: goto-line N.
<span class="org-level-2">** Cursor position information</span>
   1. <span class="org-verbatim">=C-x ==</span>: Display the information of the character after point.
   2. <span class="org-verbatim">=M-==</span>: Display the number of lines, words, and characters of a region.
<span class="org-level-2">** Repeate a command</span>
   use <span class="org-verbatim">=C-x z=</span> (repeat).
<span class="org-level-2">** Search history of inputs</span>
   1. <span class="org-verbatim">=M-r REGEXP &lt;RET&gt;=</span> similar to <span class="org-verbatim">=C-r=</span> in bash.
   2. <span class="org-verbatim">=M-s REGEXP &lt;RET&gt;=</span> forward search.
<span class="org-level-2">** Funny Help Entries:</span>
   1. <span class="org-verbatim">=C-h e=</span> to bring "<span class="bold">*Message*</span>" Buffer.
   2. <span class="org-verbatim">=C-h h=</span> to display "HELLO" file.
   3. <span class="org-verbatim">=C-h l=</span> to display a description of your last 300 keystrokes(<span class="org-verbatim">=view-lossage=</span>).
   4. <span class="org-verbatim">=C-h w COMMAND &lt;RET&gt;=</span> to show keys run the command named COMMAND (<span class="org-verbatim">=where-is=</span>).
   5. <span class="org-verbatim">=C-h c KEY=</span> displays in the echo area the name of the command
      that KEY is bound to.
<span class="org-level-2">** Mark and the region</span>

<span class="org-level-2">** kill ring</span>
   Emacs will save the contens yanked by <span class="org-verbatim">=C-k=</span> or <span class="org-verbatim">=M-w=</span>. We can
   paste/yank the contents last killed by press <span class="org-verbatim">=C-y=</span>. But if we want
   the contens earlier, we can press <span class="org-verbatim">=M-y=</span> multiple times after press
   <span class="org-verbatim">=C=y=</span>.

<span class="org-level-1">* Eshell</span>
<span class="org-level-2">** Visual Commands</span>
   Some commands are not sufficient to run inside eshell, such as
   <span class="org-verbatim">=top=</span>. They are supported by <span class="org-verbatim">=Term=</span> mode. We can add these commands
   into <span class="org-verbatim">=eshell-visual-commands=</span> to make eshell invoke <span class="org-verbatim">=term=</span> mode automatically.

<span class="org-level-2">** References</span>
   - <span class="org-link"><a href="http://www.masteringemacs.org/articles/2010/12/13/complete-guide-mastering-eshell/">[[http://www.masteringemacs.org/articles/2010/12/13/complete-guide-mastering-eshell/][</a><a href="http://www.masteringemacs.org/articles/2010/12/13/complete-guide-mastering-eshell/">Complete Guide to Mastering Eshell</a><a href="http://www.masteringemacs.org/articles/2010/12/13/complete-guide-mastering-eshell/">]]</a></span>

<span class="org-level-1">* eclim</span>
In order to use emacs-eclim, you will have to do the following:
1. install eclipse (this is the huge backend)
2. install eclim (the middleware that provide integration to eclipse)
3. install emacs-eclim since eclim is for vim by default.
4. Follow the emacs-eclim's doc and add configurations such as eclipse-dirs
   etc.

After all the components are installed, some configurations had to made. Note
that the main aim here is to add <span class="org-verbatim">=eclim=</span> support to <span class="org-verbatim">=company-mode=</span> to provide
completion.

Company mode had a default backend for eclim: <span class="org-verbatim">=company-eclim=</span>. Which, I don't
know how to make it work. emacs-eclim provides another backend:
"emacscompany-emacs-eclim". So I have the following configuration.
<span class="org-block-begin-line">#+begin_src elisp
</span><span class="org-block">  (defun company-emacs-eclim-local ()
    (make-local-variable 'company-backends)
    (company-emacs-eclim-setup))
  (when (package-installed-p 'emacs-eclim)
    (require 'eclim)
    (global-eclim-mode)
    (require 'company-emacs-eclim)
    (add-hook 'java-mode-hook
              'company-emacs-eclim-local))
</span><span class="org-block-end-line">#+end_src
</span>This configuration add "emacs-eclim" support only for java-mode. Because unlike
all the other company-mode backends, "emacs-eclim" will not exit properly if
eclim is not provided and fallback to other backends.

After all these configuration, one last thing to remember: start up the eclim
server manually, i.e. "eclimd".

<span class="org-level-1">* Profiler</span>

<span class="org-level-2">** Emacs Native Profiler</span>
<span class="org-link"><a href="http://cx4a.org/hack/emacs-native-profiler.html">[[http://cx4a.org/hack/emacs-native-profiler.html][</a><a href="http://cx4a.org/hack/emacs-native-profiler.html">Emacs Native
Profiler</a><a href="http://cx4a.org/hack/emacs-native-profiler.html">]]</a></span> is directly included in Emacs 24.

Usage:
1. <span class="org-verbatim">=M-x profiler-start=</span>
2. do something you want to profiling
3. <span class="org-verbatim">=M-x profiler-stop=</span> (Optional)
4. <span class="org-verbatim">=M-x profiler-report=</span>

Then use <span class="org-verbatim">=M-x profiler-report-expand-entry=</span> to expand the entry(don't
know if there is a default key binding).

<span class="org-level-2">** ELP</span>
This is also a build in profiler, it can be used to profile a specific
package, function etc.

Usage:
1. <span class="org-verbatim">=M-x elp-instrument-xxx=</span> (xxx refers to the mode you want to use,
   such as "package" or "function")
2. do something
3. <span class="org-verbatim">=M-x elp-results=</span> to check the results.

<span class="org-level-1">* FAQs</span>
<span class="org-level-2">** How to insert not graphic characters?</span>
1. Insert <span class="org-verbatim">=C-q=</span> First.
2. <span class="org-verbatim">=C-x 8 &lt;RET&gt; &lt;unicode&gt;=</span> to insert unicode characters.

<span class="org-level-2">** How to swap values by regexp-replace</span>
The idea is mixing elisp expressions in regular expressions.

For example, we want to swap all ocurrences of word <span class="org-verbatim">=left=</span> and
<span class="org-verbatim">=right=</span>, the we can specify the pattern to be:
<span class="org-block-begin-line">#+begin_example
</span><span class="org-block">  Replace: \(left\)\|right
</span><span class="org-block-end-line">#+end_example
</span>And the next step is to correctly specify the replace string, note
that by the previous pattern, we can capture the matches of <span class="org-verbatim">=left=</span> by
<span class="org-verbatim">=\1=</span> as we shall see later. Now replace with:
<span class="org-block-begin-line">#+begin_example
</span><span class="org-block">  Replace with: \,(if \1 "right" "left")
</span><span class="org-block-end-line">#+end_example
</span>We use =\,= to insert elisp expression. For more information, check <span class="org-footnote">[fn:elfre]</span>

<span class="org-footnote">[fn:elfre]</span> <span class="org-link"><a href="http://www.masteringemacs.org/article/evaluating-lisp-forms-regular-expressions">[[http://www.masteringemacs.org/article/evaluating-lisp-forms-regular-expressions][</a><a href="http://www.masteringemacs.org/article/evaluating-lisp-forms-regular-expressions">Evaluating Lisp Forms in Regular Expressions</a><a href="http://www.masteringemacs.org/article/evaluating-lisp-forms-regular-expressions">]]</a></span>

<span class="org-level-2">** org mode extra spaces in chinese</span>
Normally, we'll divide text of a paragraph into lines. When org-mode
exports them, the text will be concatenated with a space between them:
<span class="org-block-begin-line">#+begin_example
</span><span class="org-block">line 1
line 2
=&gt; line 1 line 2
&#20013;&#25991;
&#27979;&#35797;
=&gt; &#20013;&#25991; &#27979;&#35797;
</span><span class="org-block-end-line">#+end_example
</span>Note the extra space between chinese characters. This is unexpected
for chinese characters. Thus, we'll need this workaround.

<span class="org-block-begin-line">#+begin_src elisp
</span><span class="org-block">  (defun han/org-html-delete-extra-space (string backend info)
    "Let chinese word to a line if match /han\newline/"
    (when (and (org-export-derived-backend-p backend 'html)
               (string-match "\\cc\n" string))
      (replace-regexp-in-string "\\(\\cc\\)\n\\(\\cc\\)" "\\1\\2" string)))

  (eval-after-load 'ox-html
    '(add-to-list 'org-export-filter-final-output-functions
                  'han/org-html-delete-extra-space))
</span><span class="org-block-end-line">#+end_src
</span>
Cited from <span class="org-link"><a href="http://xuhaojun.github.io/blog/2013-08-19-han-extra-space-org-mode.html">[[</a><a href="http://xuhaojun.github.io/blog/2013-08-19-han-extra-space-org-mode.html">http://xuhaojun.github.io/blog/2013-08-19-han-extra-space-org-mode.html</a><a href="http://xuhaojun.github.io/blog/2013-08-19-han-extra-space-org-mode.html">]]</a></span>
</pre>
  </body>
</html>
