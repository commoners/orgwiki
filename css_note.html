<!DOCTYPE html>
<html>
<head>
<title>CSS Notes</title>
<!-- 2015-06-27 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="Mark Wallace">
<link rel="Stylesheet" type="text/css" href="assets/css/style.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript">
    function show_org_source(){
       /* document.location.href = rpl(document.location.href,"html","org.html"); */
       var url = document.location.href.split('#')[0];
       document.location.href = url.replace(/.html$/, '.org.html');
    }
</script>
</head>
<body>
<div id="preamble" class="status">
<!--<body onload="prettyPrint()">-->
<nav>
    <a href="index.html">Index</a>
    <a href="about.html">About</a>
    <a href="https://lotabout.github.io">Blog</a>
    <a href="sitemap.html">SiteMap</a>
</nav>
</div>
<div id="content">
<h1 class="title">CSS Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Elements</a>
<ul>
<li><a href="#sec-1-1">background</a></li>
</ul>
</li>
<li><a href="#sec-2">Base Concept</a>
<ul>
<li><a href="#sec-2-1">Replaced element</a></li>
<li><a href="#sec-2-2">Inline element</a></li>
<li><a href="#sec-2-3">Intrinsic &amp; Extrinsic Sizing</a>
<ul>
<li><a href="#sec-2-3-1">Intrinsic Sizes of Replaced Elements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3">Rules</a>
<ul>
<li><a href="#sec-3-1">Calculating width and margin</a>
<ul>
<li><a href="#sec-3-1-1">Inline non-replaced elements</a></li>
<li><a href="#sec-3-1-2">Inline, replaced elements</a></li>
<li><a href="#sec-3-1-3">Block-level, non-replaced elements in normal flow</a></li>
<li><a href="#sec-3-1-4">Blcok-level, replaced elements in normal flow</a></li>
<li><a href="#sec-3-1-5">Floating, non-replaced elements</a></li>
<li><a href="#sec-3-1-6">Floating, replaced elements</a></li>
<li><a href="#sec-3-1-7">Absolutely positioned, non-replaced elements</a></li>
<li><a href="#sec-3-1-8">Summary</a></li>
</ul>
</li>
<li><a href="#sec-3-2">Calculating height and margins</a>
<ul>
<li><a href="#sec-3-2-1">Inline, non-replaced elements</a></li>
<li><a href="#sec-3-2-2">Inline replaced elements, block-level replaced elements in normal flow, 'inline-block' replaced elements in normal flow and floating replaced elements</a></li>
<li><a href="#sec-3-2-3">Block-level non-replaced elements in normal flow when 'overflow' computes to 'visiable'</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Elements</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">background</h3>
<div class="outline-text-3" id="text-1-1">
<ol class="org-ol">
<li>background-image can stack.
</li>
<li>we can use transition on background-size and background-position, but we
have to manually set the begin value and end value(instead of leaving it blank.)
</li>
<li>If we use percentage value on <code>background-position</code>, it refer to the size of
the background positioning area minus size of background image; size refers
to the width for horizontal offsets and to the height for vertical offsets. 
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Base Concept</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Replaced element</h3>
<div class="outline-text-3" id="text-2-1">
<p>
In short: it is an element whose content are replaced by outside source.
</p>

<p>
For example: an <code>&lt;img&gt;</code> or <code>&lt;video&gt;</code> will depends on the <code>src</code> that the page
specified. 
</p>

<p>
By reference:
</p>
<blockquote>
<p>
A replaced element is any element whose appearance and dimensions are defined by
an external resource. Examples include images (&lt;img&gt; tags), plugins (&lt;object&gt;
tags), and form elements (&lt;button&gt;, &lt;textarea&gt;, &lt;input&gt;, and &lt;select&gt; tags). All
other elements types can be referred to as non-replaced elements.
</p>
</blockquote>

<p>
So why form elements are replaced elements? take <code>&lt;select&gt;</code> as an example, the
width of a combobox are determined by the longest item in it. That means
different combox can have different appearance and dimensions, and that depends
on the external resource(i.e. the options).
</p>

<ul class="org-ul">
<li><a href="http://reference.sitepoint.com/css/replacedelements">Replaced Elements</a>
</li>
<li><a href="http://demosthenes.info/blog/461/What-The-Heck-Is-A-Replaced-Element">What the Heck is Replaced Element</a>
</li>
<li></li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Inline element</h3>
<div class="outline-text-3" id="text-2-2">
<p>
An inline element occupies only the space bounded by the tags that define the
inline element.
</p>

<p>
The following elements are "inline":
</p>
<ul class="org-ul">
<li>b, big, i, small, tt
</li>
<li>abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var
</li>
<li>a, bdo, br, img, map, object, q, script, span, sub, sup
</li>
<li>button, input, label, select, textarea
</li>
</ul>

<p>
References:
</p>
<ul class="org-ul">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elemente">Inline element</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Intrinsic &amp; Extrinsic Sizing</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Intrinsic sizing determines sizes based on the contents of an element, without
regard for its context.
</p>
</div>

<div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1">Intrinsic Sizes of Replaced Elements</h4>
<div class="outline-text-4" id="text-2-3-1">
<ul class="org-ul">
<li><a href="http://www.w3.org/TR/css3-sizing/">CSS 3 sizing</a>
</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Rules</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Calculating width and margin</h3>
<div class="outline-text-3" id="text-3-1">
</div><div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1">Inline non-replaced elements</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
The <span class="underline">width</span> property does not apply. A computed value of <span class="underline">auto</span> for
<span class="underline">margin-left</span> or <span class="underline">margin-right</span> becomes a used value of '0'.
</p>

<p>
Such as <code>b</code>, <code>small</code>, <code>code</code> etc.
</p>
</div>
</div>

<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2">Inline, replaced elements</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
1: A computed value of <span class="underline">auto</span> for <span class="underline">margin-left</span> or <span class="underline">margin-right</span> becomes a used
value of '0'.
</p>

<p>
2: If <span class="underline">height</span> and <span class="underline">width</span> both have computed values of 'auto' and the element also
has an intrinsic width, then the intrinsic width is the used value of 'width'
</p>

<p>
=&gt; that means the natrual width of the content is used.
</p>

<p>
3: If <span class="underline">height</span> and <span class="underline">width</span> both have computed values of 'auto' and the element has
no intrinsic width, but does have an intrinsic height and intrinsic ratio; or if
<span class="underline">width</span> has a computed value of 'auto', <span class="underline">height</span> has some other computed value,
and the element does have an intrinsic ratio, then the used value of <span class="underline">width</span> is:
</p>

<pre class="example">
(used height) * (intrinsic ratio)
</pre>

<p>
=&gt; the problem is how to specify the intrinsic ratio? After searched for a
while, I found that the intrinsic ratio is defined by setting percentage of <span class="underline">padding</span>.
</p>

<p>
TODO: add more concrete example.
</p>

<p>
4: too long, see the reference
</p>


<p>
5: Otherwise if <span class="underline">width</span> has a computed value of 'auto', and the element has an
intrinsic width, then that intrinsic width is the used value of <span class="underline">width</span>.
</p>

<p>
6: Don't care for now.
</p>
</div>
</div>

<div id="outline-container-sec-3-1-3" class="outline-4">
<h4 id="sec-3-1-3">Block-level, non-replaced elements in normal flow</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
Constraints:
</p>

<blockquote>
<p>
'margin-left' + 'border-left-width' + 'padding-left' + 'width' +
'padding-right' + 'border-right-width' + 'margin-right' = width of the
containing block
</p>
</blockquote>

<p>
=&gt; i.e. check for the Box Model of CSS.
</p>

<p>
1: If <span class="underline">width</span> is not 'auto' and 'border-left-width' + 'padding-left' + 'width' +
'padding-right' + 'border-right-width'(plus any of 'margin-left' or
'margin-right' that are not 'auto') is larger than the width of the containing
block, then any 'auto' values for 'margin-left' or 'margin-right' are, for the
following rules, treated as zero.
</p>

<p>
=&gt; that means the 'auto' value is used for stretch.
</p>

<p>
2: If all of the above have a computed value other than 'auto', the values are
said to be "over-constrained" and one of the used values will have to be
different from its computed value. If the <span class="underline">direction</span> property of the containing
block has the value 'ltr', the specified value of <span class="underline">margin-right</span> is ignored and
the value is calulated so as to make the equality true. Do the same for
<span class="underline">margin-left</span> when <span class="underline">direction</span> is 'rtl'.
</p>

<p>
=&gt; that means one side of the margin is auto-ajusted(thus can be negative) to
fit the containing block.
</p>

<p>
3: If there is exactly one value specified as 'auto', its used value follows
from the equality.
</p>

<p>
4: If <span class="underline">width</span> is set to 'auto', any other 'auto' values become '0' and <span class="underline">width</span>
follows from the resulting equality. 
</p>

<p>
5: If both <span class="underline">margin-left</span> and <span class="underline">margin-right</span> are 'auto', their used values are
equal. Thus makes the element center.
</p>

<p>
This rule is actually used for calculating the actual margin width, because the
content is non-replaced, thus other component is not changable.
</p>

<ul class="org-ul">
<li><a href="http://www.w3.org/TR/CSS21/visudet.html#the-width-property">The Width Property</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-1-4" class="outline-4">
<h4 id="sec-3-1-4">Blcok-level, replaced elements in normal flow</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
The used value of <span class="underline">width</span> is determined as for "inline replaced elements", then
the rules for "non-replaced block-level elements" are applied to determin the margins.
</p>
</div>
</div>

<div id="outline-container-sec-3-1-5" class="outline-4">
<h4 id="sec-3-1-5">Floating, non-replaced elements</h4>
<div class="outline-text-4" id="text-3-1-5">
<p>
1: If <span class="underline">margin-left</span> or <span class="underline">margin-right</span> are computed as 'auto', their used value is '0'.
</p>

<p>
2: If <span class="underline">width</span> is computed as 'auto', the used value is the "shrink-to-fit" width.
</p>
</div>
</div>

<div id="outline-container-sec-3-1-6" class="outline-4">
<h4 id="sec-3-1-6">Floating, replaced elements</h4>
<div class="outline-text-4" id="text-3-1-6">
<p>
If <span class="underline">margin-left</span> or <span class="underline">margin-right</span> are computed as 'auto', their used value is
'0'. The used value of <span class="underline">width</span> is determined as for "inline replaced elements".
</p>
</div>
</div>

<div id="outline-container-sec-3-1-7" class="outline-4">
<h4 id="sec-3-1-7">Absolutely positioned, non-replaced elements</h4>
<div class="outline-text-4" id="text-3-1-7">
<p>
The constraint that determins the used value for these elements is:
</p>
<blockquote>
<p>
'left' + 'margin-left' + 'border-left-width' + 'padding-left' + 'width' +
'padding-right' + 'border-right-width' + 'margin-right' + 'right' = width of
containing block
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-3-1-8" class="outline-4">
<h4 id="sec-3-1-8">Summary</h4>
<div class="outline-text-4" id="text-3-1-8">
<p>
=&gt; Normally, the <span class="underline">width</span> of a element is calculated from outside(container) to
inside, while the margin is calculated from inside to outside. Only with
replaced elements care the width of the elements inside it.
</p>

<p>
=&gt; <span class="underline">width</span> of absolutely positioned elements also depends on its <span class="underline">left</span> and
<span class="underline">right</span> property.
</p>

<p>
=&gt; The used <span class="underline">margin</span> are used to decide the actually position to place
elements. (such as calculate to be negtive, etc.)
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Calculating height and margins</h3>
<div class="outline-text-3" id="text-3-2">
</div><div id="outline-container-sec-3-2-1" class="outline-4">
<h4 id="sec-3-2-1">Inline, non-replaced elements</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
The <span class="underline">height</span> rproperty does not apply. The height of the content area should be
based on the font, but this specification does not specify how.
</p>

<p>
The vertical padding, border and margin of an inline, non-replaced box start at
the top and bottom of the content area, and has nothing to do with the
<span class="underline">line-height</span>. But only the <span class="underline">line-height</span> is used when calculating the height of
the line box.
</p>
</div>
</div>

<div id="outline-container-sec-3-2-2" class="outline-4">
<h4 id="sec-3-2-2">Inline replaced elements, block-level replaced elements in normal flow, 'inline-block' replaced elements in normal flow and floating replaced elements</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
If <span class="underline">margin-top</span> or <span class="underline">margin-bottom</span> are 'auto', their used value is 0.
</p>

<p>
If <span class="underline">height</span> and <span class="underline">width</span> both have computed values of 'auto' and the element also
has an intrinsic height, then that intrinsic height is the used value of <span class="underline">height</span>.
</p>

<p>
Otherwise, if <span class="underline">height</span> has a computed value of 'auto', and the element has an
intrinsic ratio then the used value of <span class="underline">height</span> is:
</p>
<blockquote>
<p>
(used width) / (intrinsic ratio)
</p>
</blockquote>

<p>
Otherwise, If <span class="underline">height</span> has a computed value of 'auto', and the element has an
intrinsic height, then that intrinsic height is the used value of <span class="underline">height</span>.
</p>

<p>
Otherwise, "currently don't care".
</p>
</div>
</div>

<div id="outline-container-sec-3-2-3" class="outline-4">
<h4 id="sec-3-2-3">Block-level non-replaced elements in normal flow when 'overflow' computes to 'visiable'</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
If <span class="underline">margin-top</span> or <span class="underline">margin-bottom</span> are 'auto', their used value is 0. If
<span class="underline">height</span> is 'auto', the height depends on whether the element has any
block-level children and whether it has padding or borders:
</p>

<p>
The element's height is the distance from its top content edge to the first
applicable of the following:
</p>
<ol class="org-ol">
<li>the bottom edge of the last line box, if the box establishes an inline
formatting context with one or more lines.
</li>
<li>the bottom edge of the bottom(possibly collapsed) margin of its last in-flow
child, if the child's bottom margin does not collapse with the element's
bottom margin.
</li>
<li>the bottom border edge of the last in-flow child whose top margin doesn't
collapse with the element's bottom margin
</li>
<li>zero, otherwise
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<a href="#" class="back-to-top">Back to Top</a>

<!-- <hr class="comment"> -->
<!-- <div id="show_source"> -->
<!--   <input type="button" value="Show Org source" onClick='show_org_source()'> -->
<!-- </div> -->

</script>
<hr class="comment">
<section class="comment">
<!-- An element a visitor can click if they <3 comments! -->
<button class="btn show-comments">Load Disqus comments</button>
<div id="disqus_thread"></div>
 
<!-- The empty element required for Disqus to loads comments into -->
<!--<div id="disqus_thread"></div>-->
    <!--<script type="text/javascript">-->
        <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
        <!--var disqus_shortname = 'lotaboutvimwiki'; // required: replace example with your forum shortname-->

        <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
        <!--(function() {-->
            <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
            <!--dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';-->
            <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
        <!--})();-->
    <!--</script>-->
    <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
</section>

<footer>
    |采用<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a>授权|由<a href="http://orgmode.org">Org Mode</a>自动生成<input type="button" value="Show Org source" onClick='show_org_source()'>|部署在<a href="https://github.com/lotabout/orgwiki">Github Pages</a>|
</footer>

    <script src="assets/js/jquery-1.7.1.min.js"></script>
    <script>
$(document).ready(function(){
	var offset = 100;
	var duration = 110;

        $(window).resize(function () {
            var toc= $('#table-of-contents')
            if ($(window).width() <= 800) {
                toc.css('position', 'static')
	        return
            }
            });
        $(window).scroll(
            function () {
            console.log("scroll called.")
            var toc= $('#table-of-contents')
            if ($(window).width() <= 800) {
            toc.css('position', 'static')
            return
            }

            if ($(this).scrollTop() > duration) {
            toc.css('left', toc.position().left + 'px')
            toc.css('position', 'fixed')
            $('.back-to-top').fadeIn(duration);
            } else {
            toc.css('left', '0px')
            toc.css('top', '0px')
            toc.css('position', 'relative')
            $('.back-to-top').fadeOut(duration);
            }
            });
        $('.back-to-top').click(
            function(event) {
            event.preventDefault;
            $('html, body').animate({scrollTop: 0}, duration);
            return false;
            });

        $('.show-comments').on('click', function(){
                               var disqus_shortname = 'lotaboutorgwiki'; // Replace this value with *your* username.

                               // ajax request to load the disqus javascript
                               $.ajax({
type: "GET",
url: "http://" + disqus_shortname + ".disqus.com/embed.js",
dataType: "script",
cache: true
});
                               // hide the button once comments load
                               $(this).fadeOut();
                               });
});
    </script>
</div>
</body>
</html>
