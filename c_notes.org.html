<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.47 in css mode. -->
<html>
  <head>
    <title>c_notes.org</title>
    <style type="text/css">
    <!--
      body {
        color: #dcdccc;
        background-color: #3f3f3f;
      }
      .hl-line {
        /* hl-line */
        background-color: #404040;
      }
      .org-block {
        /* org-block */
        color: #b3b3b3;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #7f9f7f;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #7f9f7f;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-document-title {
        /* org-document-title */
        color: #afeeee;
        font-weight: bold;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #dfaf8f;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #8fb28f;
      }
      .org-link {
        /* org-link */
        color: #d0bf8f;
        text-decoration: underline;
      }
      .org-verbatim {
        /* org-verbatim */
        color: #b3b3b3;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-document-info-keyword"><span class="hl-line">#+title:</span></span><span class="hl-line"> </span><span class="org-document-title"><span class="hl-line">C Notes
</span></span>
Different to C++ Notes, this page concern only C-related questions.

<span class="org-level-1">* FAQs</span>
<span class="org-level-2">** How to cast function pointer</span>
The requirement is as follows: If you got a function that need a
callback function:
<span class="org-block-begin-line">#+begin_src c
</span><span class="org-block">  void process(void (*callback)(void *))
</span><span class="org-block-end-line">#+end_src
</span>Note here that callback can have one argument which is type <span class="org-verbatim">=void
*=</span>. Now perhaps we have our own version of callback function which
takes a <span class="org-verbatim">=char *=</span> argument:
<span class="org-block-begin-line">#+begin_src c
</span><span class="org-block">  void my_callback(char *msg)
  {
      printf("%s\n", msg);
  }
</span><span class="org-block-end-line">#+end_src
</span>When we want to feed <span class="org-verbatim">=my_callback=</span> to function <span class="org-verbatim">=process=</span>, the compiler
will report warning.

In short, the behavior of casting function pointers(no matter explict
or not) is undefined. However in practice, if the function parameters
are pointer type, they are of the same size, just like the case
above. So it will work but that is non-standard.

For more detail, check the link below.

- <span class="org-link"><a href="http://stackoverflow.com/questions/559581/casting-a-function-pointer-to-another-type">[[http://stackoverflow.com/questions/559581/casting-a-function-pointer-to-another-type][</a><a href="http://stackoverflow.com/questions/559581/casting-a-function-pointer-to-another-type">Casting a Function Pointer to Another Type</a><a href="http://stackoverflow.com/questions/559581/casting-a-function-pointer-to-another-type">]]</a></span>
</pre>
  </body>
</html>
