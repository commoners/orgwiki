<!DOCTYPE html>
<html>
<head>
<title>How to Design Programs Notes</title>
<!-- 2014-06-26 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<link rel="Stylesheet" type="text/css" href="assets/css/style.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript">
    function show_org_source(){
       /* document.location.href = rpl(document.location.href,"html","org.html"); */
       var url = document.location.href.split('#')[0];
       document.location.href = url.replace(/.html$/, '.org.html');
    }
</script>
</head>
<body>
<div id="preamble" class="status">
<!--<body onload="prettyPrint()">-->
<nav>
    <a href="index.html">Index</a>
    <a href="about.html">About</a>
    <a href="https://lotabout.github.io">Blog</a>
    <a href="sitemap.html">SiteMap</a>
</nav>
</div>
<div id="content">
<h1 class="title">How to Design Programs Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Design Functions</a>
<ul>
<li><a href="#sec-1-1">Information and Data</a></li>
<li><a href="#sec-1-2">Process of Designing Functions</a></li>
<li><a href="#sec-1-3">Domain Knowledge</a>
<ul>
<li><a href="#sec-1-3-1">From Functions to Programs</a></li>
<li><a href="#sec-1-3-2">Designing World Programs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">Intervals, Enumerations, Itemizations</a>
<ul>
<li><a href="#sec-2-1">Conditional Computations</a></li>
<li><a href="#sec-2-2">How it works</a></li>
<li><a href="#sec-2-3">Enumerations</a></li>
<li><a href="#sec-2-4">Intervals</a></li>
<li><a href="#sec-2-5">Itemization</a></li>
</ul>
</li>
<li><a href="#sec-3">Lists</a></li>
<li><a href="#sec-4">Designing With Self-referential Data Definitions</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Design Functions</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Information and Data</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Information can be thought as facts about the program's domain, while data is
just a "literal" representation.
</p>

<p>
Take temperature as an example. `100` is only a prepresentation or data. We
know nothing only by looking at this literal. When the data is `interpretted`
in the domain of temperature, we know it means 100C or 100F. On the other
hand, computers or programs cannot understand 100C or 100F directly. We then
can `represent` it as a number `100` or strings link `100C` or `100F`, these are
what computers can understand.
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Process of Designing Functions</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<b>-&gt;</b> This process can be guideline of writing comments for functions.
</p>

<ul class="org-ul">
<li>Express how information is represented as data.
<pre class="example">
; we use plain numbers to represent temperatures.
</pre>
</li>
<li>Write down a signature, a purpose statement, and a function header.
A <span class="underline">signature</span> is like `haskell`'s function type.
<pre class="example">
; String -&gt; Number
</pre>
<p>
<span class="underline">Purpose statement</span> is a short line to describe the purpose of a function. A
better way to express this is to use descriptive names for functions.
<span class="underline">Function Header</span> is the header of a function without its implementation.
</p>
</li>
<li>Illustrate the signature and the purpose statement with some functional
examples.
<pre class="example">
; Number -&gt; Number                                      ; signature
; compute the area of a square whose side is len        ; purpose
; given: 2, expect: 4                                   ; examples
; given: 7, expect: 49
(define (area-of-square len) 0)                         ; header
</pre>
</li>

<li>The next step is considering what and how are we going to compute. This is
done by inserting <b>templates</b> in the function body(for example, the ones
introduced in the following chapters).
</li>
<li>Now <span class="underline">code</span>. Fill in the information needed by the template and other
details.
</li>
<li>Last one: Test the functions. (in racket or other script languages, directly
make some unit test cases is quite simple, do it!)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Domain Knowledge</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Two forms of <span class="underline">domain knowledge</span>:
</p>
<ul class="org-ul">
<li>Knowledge from external domains.
</li>
<li>Knowledge about the library functions in the chosen programming language.
</li>
</ul>
</div>

<div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">From Functions to Programs</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
The `car` problem: Design a program that moves a car across the world canvas,
from left to right, at the rate of three pixels per clock tick.
</p>

<p>
How to tare down the problem into program elements:
</p>
<ol class="org-ol">
<li>Find out constant staff and assign them to global constant variables.
</li>
<li>Find out properties that change over time. Design how to represent them with
data. (can we call them <span class="underline">states</span>?)
</li>
<li>Design a number of functions to handle al these variable properties.
</li>
<li>write a <span class="underline">main</span> function so as to connect real world to our programs.
</li>
</ol>

<p>
We can conclude it into 4 elements when designing:
</p>
<ol class="org-ol">
<li>global states(constants).
</li>
<li>data representation for states.
</li>
<li>actions to handle states.
</li>
<li>main function.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2">Designing World Programs</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
Why is modifying the sample problem and adding mouse event handler
is so straightforward? First it strictly separate the *model*(the
data that a program tracks) and the *view*(how the program show
results). Second is the design recipes for programs and functions
organize programs in the right way.
</p>

<p>
This teaches us two leason: 
</p>
<ol class="org-ol">
<li>separate our modules.
</li>
<li>correctly organize our design recipes.(including data and
functions, etc.)
</li>
</ol>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Intervals, Enumerations, Itemizations</h2>
<div class="outline-text-2" id="text-2">
<p>
Why we need these? Often, we'll need to design programs with
restrictions on our built-in collections. One way to restrict it is
to enumerate a bunch of elements form a collection and to say that
these are the only ones that we are going to use. However,
enumeration will work only under finite number of elements, thus we
need intervals for "infinately" many elements.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Conditional Computations</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Review the <code>cond</code> expression:
</p>
<div class="org-src-container">

<pre class="src src-scheme">(<span style="font-weight: bold;">cond</span>
 [condition-expr-1 result-expr-1]
 [condition-expr-2 result-expr-2]
 ...
 [condition-expr-n result-expr-n])
</pre>
</div>
<p>
In may problem contexts, a function must distinguish several
different situations. With a <code>cond</code> expression expression, you can
use one line per possiblity and thus <span class="underline">remaind the reader of the
code of the different situations from the problem statement</span>.
</p>

<p>
Contrast <code>cond</code> with <code>if</code>. we use <code>if</code> is more suited when we want
to say "one or the other".
</p>

<p>
Note that even if we can code with either one and the result is OK,
don't do it! Codes are read not only by machine, but also by
human. Thus express the idea directly and clearly is important.
</p>

<p>
For example, in C language, using <code>switch</code> would be more expressive
than nested <code>if</code> statements.
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">How it works</h3>
<div class="outline-text-3" id="text-2-2">
<blockquote>
<p>
Just looking at the <code>cond</code> expression you cannot predict which of
the three <code>cond</code> clause is going to be used._And that is the point
of a function._
</p>
</blockquote>
</div>
</div>


<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Enumerations</h3>
<div class="outline-text-3" id="text-2-3">
<p>
The main idea of an enumeration is that it defines a collection of
data as a <b>finite</b> number of pieces of data. So we can iterate
through all its possibilities with a <code>cond</code> branch. This is the
<b>template</b> of dealing with enumerations.
</p>

<p>
Example(From the book):
</p>
<div class="org-src-container">

<pre class="src src-scheme"><span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">A TrafficLight shows one of three colors:</span>
<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">&#8211; "red"</span>
<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">&#8211; "green"</span>
<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">&#8211; "yellow"</span>
<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">interp. each element of TrafficLight represents which colored</span>
<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">bulb is currently turned on</span>

<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">TrafficLight -&gt; TrafficLight</span>
<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">given state s, determine the next state of the traffic light</span>

(check-expect (traffic-light-next <span style="font-style: italic;">"red"</span>) <span style="font-style: italic;">"green"</span>)

(<span style="font-weight: bold;">define</span> (<span style="font-weight: bold;">traffic-light-next</span> s)
  (<span style="font-weight: bold;">cond</span>
    [(string=? <span style="font-style: italic;">"red"</span> s) <span style="font-style: italic;">"green"</span>]
    [(string=? <span style="font-style: italic;">"green"</span> s) <span style="font-style: italic;">"yellow"</span>]
    [(string=? <span style="font-style: italic;">"yellow"</span> s) <span style="font-style: italic;">"red"</span>]))
</pre>
</div>
<p>
There are 3 states of <code>TrafficLight</code>, thus we generate 3 <code>cond</code> branches.
</p>

<p>
<b>-&gt;</b> <a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/part_one.html#(counter._(figure._fig~3acond-enum))">http://www.ccs.neu.edu/home/matthias/HtDP2e/part_one.html#(counter._(figure._fig~3acond-enum))</a>
</p>

<p>
Note the difference between these two implementation. The book
talked about the <span class="underline">re-order</span> of the condition lines. It also says
that <span class="underline">Naturally, this kind of re-arrangement is done <b>after</b> the
function is designed properly.</span>
</p>

<p>
I think the <b>essence</b> here is maintain the information of the same
level in the same level of <code>cond</code> expression. That means in this
<code>cond</code> we only cares about the information: what keys do we care
about? And condition <code>( = (string-length k) 1)</code> do not belong to
this class of informaiton, thus we through it into the <code>else</code>
branch. And we may generate a sub <code>cond</code> expression in <code>else</code>
branch if needed.
</p>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Intervals</h3>
<div class="outline-text-3" id="text-2-4">
<p>
The main concept here contains two parts:
</p>
<ol class="org-ol">
<li>the difference between <span class="underline">interval</span> and <span class="underline">enumeration</span> is
<span class="underline">interval</span> may contain <b>infinate</b> number of elements.
</li>
<li>However, we can represent <span class="underline">intervals</span> in <b>finite</b> cases, each
can be specified by a boundary check function.
</li>
</ol>

<p>
That means when contruct <code>cond</code> expression for these two cases, the
main difference is how to write the <span class="underline">condition expressions</span>.
</p>
<div class="org-src-container">

<pre class="src src-scheme"><span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">for enumeration</span>
(<span style="font-weight: bold;">define</span> (<span style="font-weight: bold;">iter-enumeration</span> x)
  (<span style="font-weight: bold;">cond</span>
   [(= x 1) 1]
   [(= x 2) 2]
   [else 3]))

<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">for intervals</span>
(<span style="font-weight: bold;">define</span> (<span style="font-weight: bold;">iter-interval</span> x)
  [(&lt; x 10) 1]
  [(&lt; x 100) 2]
  [else 3])

<span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">the main difference here is *=* and *&lt;*</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Itemization</h3>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Lists</h2>
<div class="outline-text-2" id="text-3">
<blockquote>
<p>
Then again, if this list is supposed to represent a record with a fixed
number of pieces, use a structure type instead.
</p>
</blockquote>

<p>
This means that when designing programs, use lists oly when the number of
items is variable. Otherwise, choose <span class="underline">struct</span>, <span class="underline">vector</span>, etc. instead.
</p>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Designing With Self-referential Data Definitions</h2>
<div class="outline-text-2" id="text-4">
<p>
This chapter talks about the design of new self-referential data(or
recursively defined data). And how to walk through all the elements of a
specific data.
</p>

<p>
Also the book gave out a "template" for designing functions for
self-referential data.
</p>

<p>
<b>-&gt;</b> Most data structures comes with a patter, and there also exists a pattern
 of how to deal with it. This is what we called a template.
<a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/part_two.html#(counter._(figure._fig~3adesign5))|Designing%20a%20function%20for%20self-referential%20data">http://www.ccs.neu.edu/home/matthias/HtDP2e/part_two.html#(counter._(figure._fig~3adesign5))|Designing%20a%20function%20for%20self-referential%20data</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<a href="#" class="back-to-top">Back to Top</a>

<!-- <hr class="comment"> -->
<!-- <div id="show_source"> -->
<!--   <input type="button" value="Show Org source" onClick='show_org_source()'> -->
<!-- </div> -->

</script>
<hr class="comment">
<section class="comment">
<!-- An element a visitor can click if they <3 comments! -->
<button class="btn show-comments">Load Disqus comments</button>
<div id="disqus_thread"></div>
 
<!-- The empty element required for Disqus to loads comments into -->
<!--<div id="disqus_thread"></div>-->
    <!--<script type="text/javascript">-->
        <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
        <!--var disqus_shortname = 'lotaboutvimwiki'; // required: replace example with your forum shortname-->

        <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
        <!--(function() {-->
            <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
            <!--dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';-->
            <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
        <!--})();-->
    <!--</script>-->
    <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
</section>

<footer>
    |采用<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a>授权|由<a href="http://orgmode.org">Org Mode</a>自动生成<input type="button" value="Show Org source" onClick='show_org_source()'>|部署在<a href="https://github.com/lotabout/orgwiki">Github Pages</a>|
</footer>

    <script src="assets/js/jquery-1.7.1.min.js"></script>
    <script>
$(document).ready(function(){
	var offset = 100;
	var duration = 110;

        $(window).resize(function () {
            var toc= $('#table-of-contents')
            if ($(window).width() <= 800) {
                toc.css('position', 'static')
	        return
            }
            });
        $(window).scroll(
            function () {
            console.log("scroll called.")
            var toc= $('#table-of-contents')
            if ($(window).width() <= 800) {
            toc.css('position', 'static')
            return
            }

            if ($(this).scrollTop() > duration) {
            toc.css('left', toc.position().left + 'px')
            toc.css('position', 'fixed')
            $('.back-to-top').fadeIn(duration);
            } else {
            toc.css('left', '0px')
            toc.css('top', '0px')
            toc.css('position', 'relative')
            $('.back-to-top').fadeOut(duration);
            }
            });
        $('.back-to-top').click(
            function(event) {
            event.preventDefault;
            $('html, body').animate({scrollTop: 0}, duration);
            return false;
            });

        $('.show-comments').on('click', function(){
                               var disqus_shortname = 'lotaboutorgwiki'; // Replace this value with *your* username.

                               // ajax request to load the disqus javascript
                               $.ajax({
type: "GET",
url: "http://" + disqus_shortname + ".disqus.com/embed.js",
dataType: "script",
cache: true
});
                               // hide the button once comments load
                               $(this).fadeOut();
                               });
});
    </script>
</div>
</body>
</html>
