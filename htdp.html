<!DOCTYPE html>
<html>
<head>
<title>How to Design Programs Notes</title>
<!-- 2015-08-02 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="Wang Menglei">
<link rel="Stylesheet" type="text/css" href="assets/css/style.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript">
    function show_org_source(){
       /* document.location.href = rpl(document.location.href,"html","org.html"); */
       var url = document.location.href.split('#')[0];
       document.location.href = url.replace(/.html$/, '.org.html');
    }
</script>
</head>
<body>
<div id="preamble" class="status">
<!--<body onload="prettyPrint()">-->
<nav>
    <a href="index.html">Index</a>
    <a href="about.html">About</a>
    <a href="https://lotabout.github.io">Blog</a>
    <a href="sitemap.html">SiteMap</a>
</nav>
</div>
<div id="content">
<h1 class="title">How to Design Programs Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Design Functions</a>
<ul>
<li><a href="#sec-1-1">Information and Data</a></li>
<li><a href="#sec-1-2">Process of Designing Functions</a></li>
<li><a href="#sec-1-3">Domain Knowledge</a>
<ul>
<li><a href="#sec-1-3-1">From Functions to Programs</a></li>
<li><a href="#sec-1-3-2">Designing World Programs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">Intervals, Enumerations, Itemizations</a>
<ul>
<li><a href="#sec-2-1">Conditional Computations</a></li>
<li><a href="#sec-2-2">How it works</a></li>
<li><a href="#sec-2-3">Enumerations</a></li>
<li><a href="#sec-2-4">Intervals</a></li>
<li><a href="#sec-2-5">Itemization</a></li>
<li><a href="#sec-2-6">Designing With Itemization</a></li>
</ul>
</li>
<li><a href="#sec-3">Adding Structure</a>
<ul>
<li><a href="#sec-3-1">Structures</a></li>
<li><a href="#sec-3-2">The Universe of Data</a></li>
</ul>
</li>
<li><a href="#sec-4">Itemizations and Structures</a></li>
<li><a href="#sec-5">Lists</a></li>
<li><a href="#sec-6">Designing With Self-referential Data Definitions</a>
<ul>
<li><a href="#sec-6-1">Non-empty Lists</a></li>
</ul>
</li>
<li><a href="#sec-7">Design By Composition</a>
<ul>
<li><a href="#sec-7-1">Composing Functions</a></li>
</ul>
</li>
<li><a href="#sec-8">Similarities Everywhere</a>
<ul>
<li><a href="#sec-8-1">Similarities In Functions</a></li>
<li><a href="#sec-8-2">More Similarities In Functions</a></li>
<li><a href="#sec-8-3">Similarities In Data Definition</a></li>
</ul>
</li>
<li><a href="#sec-9">Designing Abstraction</a>
<ul>
<li><a href="#sec-9-1">Abstractions From Examples</a></li>
<li><a href="#sec-9-2">Single Point Of Control</a></li>
<li><a href="#sec-9-3">Abstractions From Templates</a></li>
</ul>
</li>
<li><a href="#sec-10">Nameless Functions</a>
<ul>
<li><a href="#sec-10-1">lambda, Technically</a></li>
<li><a href="#sec-10-2">Abstracting With lambda II</a></li>
</ul>
</li>
<li><a href="#sec-11">The Poetry Of s-expressions</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Design Functions</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Information and Data</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Information can be thought as facts about the program's domain, while data is
just a "literal" representation.
</p>

<p>
Take temperature as an example. `100` is only a prepresentation or data. We
know nothing only by looking at this literal. When the data is `interpretted`
in the domain of temperature, we know it means 100C or 100F. On the other
hand, computers or programs cannot understand 100C or 100F directly. We then
can `represent` it as a number `100` or strings link `100C` or `100F`, these are
what computers can understand.
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Process of Designing Functions</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<b>-&gt;</b> This process can be guideline of writing comments for functions.
</p>

<ul class="org-ul">
<li>Express how information is represented as data.
<pre class="example">
; we use plain numbers to represent temperatures.
</pre>
</li>
<li>Write down a signature, a purpose statement, and a function header.
A <span class="underline">signature</span> is like `haskell`'s function type.
<pre class="example">
; String -&gt; Number
</pre>
<p>
<span class="underline">Purpose statement</span> is a short line to describe the purpose of a function. A
better way to express this is to use descriptive names for functions.
<span class="underline">Function Header</span> is the header of a function without its implementation.
</p>
</li>
<li>Illustrate the signature and the purpose statement with some functional
examples.
<pre class="example">
; Number -&gt; Number                                      ; signature
; compute the area of a square whose side is len        ; purpose
; given: 2, expect: 4                                   ; examples
; given: 7, expect: 49
(define (area-of-square len) 0)                         ; header
</pre>
</li>

<li>The next step is considering what and how are we going to compute. This is
done by inserting <b>templates</b> in the function body(for example, the ones
introduced in the following chapters).
</li>
<li>Now <span class="underline">code</span>. Fill in the information needed by the template and other
details.
</li>
<li>Last one: Test the functions. (in racket or other script languages, directly
make some unit test cases is quite simple, do it!)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Domain Knowledge</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Two forms of <span class="underline">domain knowledge</span>:
</p>
<ul class="org-ul">
<li>Knowledge from external domains.
</li>
<li>Knowledge about the library functions in the chosen programming language.
</li>
</ul>
</div>

<div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">From Functions to Programs</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
The `car` problem: Design a program that moves a car across the world canvas,
from left to right, at the rate of three pixels per clock tick.
</p>

<p>
How to tare down the problem into program elements:
</p>
<ol class="org-ol">
<li>Find out constant staff and assign them to global constant variables.
</li>
<li>Find out properties that change over time. Design how to represent them with
data. (can we call them <span class="underline">states</span>?)
</li>
<li>Design a number of functions to handle al these variable properties.
</li>
<li>write a <span class="underline">main</span> function so as to connect real world to our programs.
</li>
</ol>

<p>
We can conclude it into 4 elements when designing:
</p>
<ol class="org-ol">
<li>global states(constants).
</li>
<li>data representation for states.
</li>
<li>actions to handle states.
</li>
<li>main function.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2">Designing World Programs</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
Why is modifying the sample problem and adding mouse event handler
is so straightforward? First it strictly separate the *model*(the
data that a program tracks) and the *view*(how the program show
results). Second is the design recipes for programs and functions
organize programs in the right way.
</p>

<p>
This teaches us two leason: 
</p>
<ol class="org-ol">
<li>separate our modules.
</li>
<li>correctly organize our design recipes.(including data and
functions, etc.)
</li>
</ol>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Intervals, Enumerations, Itemizations</h2>
<div class="outline-text-2" id="text-2">
<p>
Why we need these? Often, we'll need to design programs with
restrictions on our built-in collections. One way to restrict it is
to enumerate a bunch of elements form a collection and to say that
these are the only ones that we are going to use. However,
enumeration will work only under finite number of elements, thus we
need intervals for "infinately" many elements.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Conditional Computations</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Review the <code>cond</code> expression:
</p>
<div class="org-src-container">

<pre class="src src-racket">(cond
 [condition-expr-1 result-expr-1]
 [condition-expr-2 result-expr-2]
 ...
 [condition-expr-n result-expr-n])
</pre>
</div>
<p>
In may problem contexts, a function must distinguish several
different situations. With a <code>cond</code> expression expression, you can
use one line per possiblity and thus <span class="underline">remaind the reader of the
code of the different situations from the problem statement</span>.
</p>

<p>
Contrast <code>cond</code> with <code>if</code>. we use <code>if</code> is more suited when we want
to say "one or the other".
</p>

<p>
Note that even if we can code with either one and the result is OK,
don't do it! Codes are read not only by machine, but also by
human. Thus express the idea directly and clearly is important.
</p>

<p>
For example, in C language, using <code>switch</code> would be more expressive
than nested <code>if</code> statements.
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">How it works</h3>
<div class="outline-text-3" id="text-2-2">
<blockquote>
<p>
Just looking at the <code>cond</code> expression you cannot predict which of
the three <code>cond</code> clause is going to be used._And that is the point
of a function._
</p>
</blockquote>
</div>
</div>


<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Enumerations</h3>
<div class="outline-text-3" id="text-2-3">
<p>
The main idea of an enumeration is that it defines a collection of
data as a <b>finite</b> number of pieces of data. So we can iterate
through all its possibilities with a <code>cond</code> branch. This is the
<b>template</b> of dealing with enumerations.
</p>

<p>
Example(From the book):
</p>
<div class="org-src-container">

<pre class="src src-racket">; A TrafficLight shows one of three colors:
; – "red"
; – "green"
; – "yellow"
; interp. each element of TrafficLight represents which colored
; bulb is currently turned on

; TrafficLight -&gt; TrafficLight
; given state s, determine the next state of the traffic light

(check-expect (traffic-light-next "red") "green")

(define (traffic-light-next s)
  (cond
    [(string=? "red" s) "green"]
    [(string=? "green" s) "yellow"]
    [(string=? "yellow" s) "red"]))
</pre>
</div>
<p>
There are 3 states of <code>TrafficLight</code>, thus we generate 3 <code>cond</code> branches.
</p>

<p>
<b>-&gt;</b> <a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/part_one.html#(counter._(figure._fig~3acond-enum))">http://www.ccs.neu.edu/home/matthias/HtDP2e/part_one.html#(counter._(figure._fig~3acond-enum))</a>
</p>

<p>
Note the difference between these two implementation. The book
talked about the <span class="underline">re-order</span> of the condition lines. It also says
that <span class="underline">Naturally, this kind of re-arrangement is done <b>after</b> the
function is designed properly.</span>
</p>

<p>
I think the <b>essence</b> here is maintain the information of the same
level in the same level of <code>cond</code> expression. That means in this
<code>cond</code> we only cares about the information: what keys do we care
about? And condition <code>( = (string-length k) 1)</code> do not belong to
this class of informaiton, thus we through it into the <code>else</code>
branch. And we may generate a sub <code>cond</code> expression in <code>else</code>
branch if needed.
</p>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Intervals</h3>
<div class="outline-text-3" id="text-2-4">
<p>
The main concept here contains two parts:
</p>
<ol class="org-ol">
<li>the difference between <span class="underline">interval</span> and <span class="underline">enumeration</span> is
<span class="underline">interval</span> may contain <b>infinate</b> number of elements.
</li>
<li>However, we can represent <span class="underline">intervals</span> in <b>finite</b> cases, each
can be specified by a boundary check function.
</li>
</ol>

<p>
That means when contruct <code>cond</code> expression for these two cases, the
main difference is how to write the <span class="underline">condition expressions</span>.
</p>
<div class="org-src-container">

<pre class="src src-racket">; for enumeration
(define (iter-enumeration x)
  (cond
   [(= x 1) 1]
   [(= x 2) 2]
   [else 3]))

; for intervals
(define (iter-interval x)
  [(&lt; x 10) 1]
  [(&lt; x 100) 2]
  [else 3])

; the main difference here is *=* and *&lt;*
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Itemization</h3>
<div class="outline-text-3" id="text-2-5">
<p>
An interval distinguishes different subclasses of numbers; an
enumeration spells out item for item the useful elements of an
existing class of data.
</p>

<p>
Does the <span class="underline">NorF</span> example indicate that itemization is an abstraction
that it combines different data types(Number or false) and output
an enumeration(type NorF)?
</p>

<p>
I think in the example of the book, itemization is just like an
brief version of struct or class(the LR example).
</p>

<p>
The test cases for "launch": when a function's main purpose is to
iterate over "itemization", we could design their test cases
according to its elements.
</p>

<p>
The test cases for "fly": Test cases for Intervals should cover two
boundaries and the one inside it.
</p>
</div>
</div>

<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">Designing With Itemization</h3>
<div class="outline-text-3" id="text-2-6">
<p>
6 steps of designning probrolems(with itemization):
</p>
<ol class="org-ol">
<li>When the problem statement distinguishes different classes of
input information, you need carefully formulated data definitions.
</li>
<li>Add functions(signature, purpose statement, function header).
</li>
<li>Pick at least one example for testing. The example should cover
cover each subclass in the data definition. That means at least
one for each subclass, and if the class is a range, be sure to
pick examples from the boundaries of the range and from its iterior.
</li>
<li>Write down a <span class="underline">template</span> that mirrors the organization of
subclasses with a <code>cond</code>
</li>
<li>For each <code>cond</code> line, fill in the code solving the sub-problem.
</li>
<li>Finally, run tests and make sure that the tests cover all <code>cond</code> clauses.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Adding Structure</h2>
<div class="outline-text-2" id="text-3">
<p>
Structure is a way of gluing information that belong to a unified
concept. For example, a name, a phone number and an email address
all belong to the concept of "contact".
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Structures</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Structure is like a container, we can put multiple objects in it,
and extract a single object from it at the same time. So we have a
<b>constructor</b> and <b>extractor</b> for structs.
</p>
</div>
</div>


<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">The Universe of Data</h3>
<div class="outline-text-3" id="text-3-2">
<p>
It is often best to illustrate data definition with examples just
like we illustrate the behavior of functions with examples:
</p>
<ul class="org-ul">
<li>for a built-in collection of data(number, string, etc.), choose
your favorite examples.
</li>
<li>for an enumeration, use several of the items of the enumeration;
</li>
<li>for intervals, use the end points(if included) and at least one
interior point
</li>
<li>for itemizations, deal with each part separately;
</li>
<li>for data definitions for structures, follow the natural language
description, that is, use the constructor and pick an example
from the data collection named for each field.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Itemizations and Structures</h2>
<div class="outline-text-2" id="text-4">
<p>
This chapter refine the design recepie. Two important concept here:
template and wish list.
</p>

<p>
Template of dealing with a certain kind of structure(itemization or
lists in later chapter) reveals the essence of the it. Wish list is
a way to destruct a problem by pretending that we had some features
and implement them later.
</p>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Lists</h2>
<div class="outline-text-2" id="text-5">
<blockquote>
<p>
Then again, if this list is supposed to represent a record with a fixed
number of pieces, use a structure type instead.
</p>
</blockquote>

<p>
This means that when designing programs, use lists oly when the number of
items is variable. Otherwise, choose <span class="underline">struct</span>, <span class="underline">vector</span>, etc. instead.
</p>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Designing With Self-referential Data Definitions</h2>
<div class="outline-text-2" id="text-6">
<p>
This chapter talks about the design of new self-referential data(or
recursively defined data). And how to walk through all the elements of a
specific data.
</p>

<p>
Also the book gave out a "template" for designing functions for
self-referential data.
</p>

<p>
<b>-&gt;</b> Most data structures comes with a pattern, and there also exists a pattern
 of how to deal with it. This is what we called a template.
<a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/part_two.html#(counter._(figure._fig~3adesign5))|Designing%20a%20function%20for%20self-referential%20data">http://www.ccs.neu.edu/home/matthias/HtDP2e/part_two.html#(counter._(figure._fig~3adesign5))|Designing%20a%20function%20for%20self-referential%20data</a>
</p>

<p>
6 steps of designing a function:
</p>
<ol class="org-ol">
<li>problem analysis -&gt; data definition
</li>
<li>header -&gt; signature; purpose; statement; dummy definition
</li>
<li>example -&gt; examples and tests.
</li>
<li>template -&gt; function template
</li>
<li>definition -&gt; full-fledged definition
</li>
<li>test -&gt; validated test.
</li>
</ol>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">Non-empty Lists</h3>
<div class="outline-text-3" id="text-6-1">
<p>
It is critical to have unified concept.
</p>

<p>
For the definition below:
</p>
<div class="org-src-container">

<pre class="src src-racket">; A List-of-tmperatures is one of:
; - empty
; - (cons CTemperature List-of-temperatures)

; A CTemperature is a Number greater or equal to -256
</pre>
</div>
<p>
It will lead to inconsistancy when the List is <code>empty</code>. Define an
<code>average</code> function for example
</p>
<div class="org-src-container">

<pre class="src src-racket">; List-of-tempeartures -&gt; Number
; compute the average tempearture
(define (average alot)
  (/ (sum alot)
     (how-many alot)))
</pre>
</div>

<p>
One solution is treat this definition as an itemization:
</p>
<div class="org-src-container">

<pre class="src src-racket">; List-of-temperatures -&gt; Number
; compute the average tempearture
(define (average alot)
  (cond
   [(empty? alot) 0]
   [else (/ (sum alot)
	    (how-many alot))]))
</pre>
</div>
<p>
However, this will break our intuition that List-of-temperatures is
self-referential and should be treated as it is. This <code>cond</code> clause
broke this intuition.
</p>

<p>
So, a better way would be refine the definition:
</p>
<div class="org-src-container">

<pre class="src src-racket">; A NEList-of-temperatures is one of:
; – (cons CTemperature empty)
; – (cons CTemperature NEList-of-temperatures)
; interp.: non-empty lists of measured temperatures
</pre>
</div>

<p>
Note that both solution works. We'll treat the first one as a
programming trick, the second as remoldeling. We're building
software not only to make the work but reflect our literal concept
as well. So, clarity and consistency of concept is capital.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Design By Composition</h2>
<div class="outline-text-2" id="text-7">
<p>
This chapter talks about when to design several function and hwo to
compose theme into one program.
</p>

<p>
There are some common tasks of processing data. It is convenient to
have some utility function to finish these tasks.
</p>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1">Composing Functions</h3>
<div class="outline-text-3" id="text-7-1">
<p>
This book explains that programs are collections of definitions:
structure type definitions, data definitions, constant definitions,
and function definitions.
</p>

<p>
A rough guideline for dividing labor among functions:
</p>
<blockquote>
<p>
Formulate auxiliary function definitions for every dependency
between quantities in the problem statement. In short, design one
function per task.
</p>

<p>
Formulate auxiliary function definitions when one data definition
points to a second data definition. Roughly, design one template
per data definition.
</p>
</blockquote>

<p>
Turning a template into a complete functino definition means
combining the values of the template's subexpressions into the
final answer. As you do so, you might encounter several situations
that suggest the need for auxiliary functions:
</p>
<ol class="org-ol">
<li>If the composition of values requires knowledge of a particular
domain of application.
</li>
<li>If the <code>cond</code> expression for case analysis is too complex.
</li>
<li>If the composition of values must process an element from a
self-referential data definition.
</li>
<li>If everything fails, you may need to design a <b>more general</b>
function and define the main function as a specific use of the
general function.
</li>
</ol>

<p>
Keeping wish lists is actually learning how to de-struct a problem
into several small pieces. Each entry is represented as function
header as described before(signature, purpose, header, etc.).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Similarities Everywhere</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">Similarities In Functions</h3>
<div class="outline-text-3" id="text-8-1">
<p>
"Good programmers are too lazy to define several closely related
functions".
</p>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">More Similarities In Functions</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Normally, function abstration is done by finding out the difference
between functions and replace them as function calls, these
functions are new parameters we should add to the abstracted functions.
</p>

<p>
Using abstracted function is similar to using Macro in C
langauge. It saves typing and has control over all instances. If
there is a bug in abstracted function, fix it will fix all instances.
</p>

<p>
Also it's convenient to create new instances by our need once we have
abstracted functions.
</p>
</div>
</div>

<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">Similarities In Data Definition</h3>
<div class="outline-text-3" id="text-8-3">
<p>
For the following two data definition:
</p>
<div class="org-src-container">

<pre class="src src-racket">; A List-of-numbers(short Lon) is one of: ; A List-of-String(short Los) is one of:
; - empty                                 ; - empty
; - (cons Number List-of-numbers)         ; - (cons Number List-of-String)
</pre>
</div>

<p>
We can abstract it as:
</p>
<div class="org-src-container">

<pre class="src src-racket">; A [List-of ITEM] is one of:
; - empty
; - (cons ITEM [List-of ITEM])
</pre>
</div>
<p>
We call such abstract data definition <span class="underline">paracmetric data definition</span>
because of  the parameter.
</p>

<p>
<b>-&gt;</b> Is this similar to Haskell's data definition and Monad?
</p>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">Designing Abstraction</h2>
<div class="outline-text-2" id="text-9">
<p>
In essence, to abstract is to turn something concrete into a parameter.
</p>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">Abstractions From Examples</h3>
<div class="outline-text-3" id="text-9-1">
<ol class="org-ol">
<li><b>to compare</b> two items for similarities.
</li>
<li><b>to abstract</b>: to replace the contents of similarities with new
names and add these names to the parameter list.
</li>
<li>Now we must validate that the new function is correct. <b>to test</b>
      means to define the two original functions in term of the abstraction.
</li>
<li>Add <b>signature</b> to abstractions.
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">Single Point Of Control</h3>
<div class="outline-text-3" id="text-9-2">
<p>
That means we should formulate an abstractions and instantiate them
whever needed. Thus we'll have only a single point of control: the abstraction.
</p>

<blockquote>
<p>
Creating Abstrations: Form an abstraction instead of copying and
modifying any piece of a program.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">Abstractions From Templates</h3>
<div class="outline-text-3" id="text-9-3">
<p>
Templates are themselves abstractions of operations on data. And
function abstractions can be thought as code representation of the template.
</p>

<p>
Instead of abstracting from similar functions, abstracting directly
from templates should be more intuitive.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">Nameless Functions</h2>
<div class="outline-text-2" id="text-10">
</div><div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1">lambda, Technically</h3>
<div class="outline-text-3" id="text-10-1">
<p>
Once we view <span class="underline">lambda</span> as the primitive concept, functions becomes
first class value. And function definitions are just syntax suger
for define a lambda values. And <span class="underline">lambda</span> is like a constructor.
</p>
<div class="org-src-container">

<pre class="src src-racket">(define (f x)
  (+ (sin x) x (* 3 x)))
; is syntax suger for the following:
(define f
  (lambda (x)
    (+ (sin x) x (* 3 x))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2">Abstracting With lambda II</h3>
<div class="outline-text-3" id="text-10-2">
<p>
It is very powerful once we treat function as data. We can
represent information as functions. And cosntructor of these kind
of data would generate functions instead of classical data types
like numbers, strings, etc. Check the book for example.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">The Poetry Of s-expressions</h2>
<div class="outline-text-2" id="text-11">
<p>
Intertwineded data means the combination of different data types
such as finite data and self-referential data. This chapter take
'Tree', 'forest' and 'S-expressions' as example, then talks about
how to simplify functions.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<a href="#" class="back-to-top">Back to Top</a>

<!-- <hr class="comment"> -->
<!-- <div id="show_source"> -->
<!--   <input type="button" value="Show Org source" onClick='show_org_source()'> -->
<!-- </div> -->

</script>
<hr class="comment">
<section class="comment">
<!-- An element a visitor can click if they <3 comments! -->
<button class="btn show-comments">Load Disqus comments</button>
<div id="disqus_thread"></div>
 
<!-- The empty element required for Disqus to loads comments into -->
<!--<div id="disqus_thread"></div>-->
    <!--<script type="text/javascript">-->
        <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
        <!--var disqus_shortname = 'lotaboutvimwiki'; // required: replace example with your forum shortname-->

        <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
        <!--(function() {-->
            <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
            <!--dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';-->
            <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
        <!--})();-->
    <!--</script>-->
    <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
</section>

<footer>
    |采用<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a>授权|由<a href="http://orgmode.org">Org Mode</a>自动生成<input type="button" value="Show Org source" onClick='show_org_source()'>|部署在<a href="https://github.com/lotabout/orgwiki">Github Pages</a>|
</footer>

    <script src="assets/js/jquery-1.7.1.min.js"></script>
    <script>
$(document).ready(function(){
	var offset = 100;
	var duration = 110;

        $(window).resize(function () {
            var toc= $('#table-of-contents')
            if ($(window).width() <= 800) {
                toc.css('position', 'static')
	        return
            }
            });
        $(window).scroll(
            function () {
            console.log("scroll called.")
            var toc= $('#table-of-contents')
            if ($(window).width() <= 800) {
            toc.css('position', 'static')
            return
            }

            if ($(this).scrollTop() > duration) {
            toc.css('left', toc.position().left + 'px')
            toc.css('position', 'fixed')
            $('.back-to-top').fadeIn(duration);
            } else {
            toc.css('left', '0px')
            toc.css('top', '0px')
            toc.css('position', 'relative')
            $('.back-to-top').fadeOut(duration);
            }
            });
        $('.back-to-top').click(
            function(event) {
            event.preventDefault;
            $('html, body').animate({scrollTop: 0}, duration);
            return false;
            });

        $('.show-comments').on('click', function(){
                               var disqus_shortname = 'lotaboutorgwiki'; // Replace this value with *your* username.

                               // ajax request to load the disqus javascript
                               $.ajax({
type: "GET",
url: "http://" + disqus_shortname + ".disqus.com/embed.js",
dataType: "script",
cache: true
});
                               // hide the button once comments load
                               $(this).fadeOut();
                               });
});
    </script>
</div>
</body>
</html>
